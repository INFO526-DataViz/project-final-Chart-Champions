{
  "hash": "eac6b6b109a98127627513ffbee2f914",
  "result": {
    "markdown": "---\ntitle: \"Constellation Maps\"\nsubtitle: \"INFO 526 - Fall 2023 - Project Final\"\nauthor: \"Megan Hokama, Sai Madhuri Kandula, Visalakshi Prakash Iyer, Kiwoon Hong, Tejashwini Kasa\"\ntitle-slide-attributes:\n  data-background-image: images/andy-holmes-rCbdp8VCYhQ-unsplash.jpg\n  data-background-size: stretch\n  data-background-opacity: \"0.7\"\n  data-slide-number: none\nformat:\n  revealjs:\n    theme:  ['data/customtheming.scss']\n    # theme: \"beige\"\n    transition: slide\n    background-transition: fade\n    logo: 'images\\map-logo.png'\n    footer: \"[ðŸŒ  Chart Champions](https://info526-dataviz.github.io/project-final-Chart-Champions/)\"\n    scrollable: true\n    code-fold: true\n    style: |\n      body {\n        font-size: 12px; /* Set your desired font size here */\n      }\ninclude-in-header:\n  - text: |\n      <style>\n      #title-slide .title, .subtitle, .quarto-title-author-name{\n        text-shadow: -2px 2px 20px #ffffff;\n        color: black;\n      }\n      </style>\n  \neditor: visual\nexecute:\n  echo: false\n---\n\n\n\n\n\n\n\n\n# Background\n\n## High-level Goal\n\nDevelop a Shiny app that generates constellation maps that utilizes interactive elements, incorporating computational and visualization techniques.\n\n![](images/constellationexample.jpg){fig-align=\"center\" width=\"337\"}\n\n## Goals & Motivations\n\n-   Increasing engagement by personalizing the experience through various elements: color usage, map location, time zone, latitude/longitude location\n\n-   Designing with a user-friendly interface to ensure accessibility for people of all backgrounds and levels of astronomical knowledge\n\n-   Providing annotations to provide readability and educational context for a wide range of users, including astronomy beginners\n\n## Dataset {.smaller}\n\n-   This dataset is a processed version of [d3-celestial-plugin](https://github.com/dieghernan/celestial_data/tree/main), an official GeoJSON library for obtaining spatial data on constellation objects.\n\n-   The datasets are available in GeoJSON (`*.geojson`) and GeoPackage (`*.gpkg`) formats\n\n-   Representation of these celestial objects' positions are according to the J2000 epoch. Which means that it is as of the Julian epoch that started on January 1, 2000, at 12:00 Terrestrial Time.\n\n-   Data used:\n\n    -   `mw` = Milky Way dataset\n\n    -   `constellations.lines` = Constellation Lines dataset\n\n    -   `stars.8` = Stars dataset\n\n# Execution\n\n## Analysis Approach\n\n-   Develop a Shiny app for personalized constellation maps with user input\n-   Enhance user engagement in stargazing from various locations time zones and even user bases\n-   Prioritize accessibility through a user-friendly interface and colorblind-friendly design\n-   Provide contextual annotations for users with different levels of astronomical knowledge\n\n## Helper Functions {.smaller}\n\n-   We first started by exploring the dataset objects and creating transformation functions for the data.\n\n-   For getting the celestial map of any geolocation, there were two requirements.\n\n::: {.columns .smaller}\n::: {.column .smaller width=\"50%\"}\n-   First to get the time zone mapped to the local time zone of the desired place. This was done by getting projections through the `get_mst()` function where we convert the time and then derive the rotation of the objects in the dataset with the given date and time\n:::\n\n::: {.column .smaller width=\"50%\"}\n-   Second, using the derived projections, we needed to map the objects in a spherical geom. This was done using the `sf` package.\n:::\n:::\n\n## Plotting Functions {.smaller}\n\n-   Every dataset for this project (milkyway, stars, constellations) contained sf (simple features) object that can be used directly to plot polygons on a spherical geom (s2). Here is a glimpse of one such dataset:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nSimple feature collection with 5 features and 1 field\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -179.987 ymin: -74.9 xmax: 180 ymax: 66.946\nGeodetic CRS:  WGS 84\n   id                       geometry\n1 ol1 MULTIPOLYGON (((178.558 -74...\n2 ol2 MULTIPOLYGON (((-176.662 -6...\n3 ol3 MULTIPOLYGON (((-174.067 -6...\n4 ol4 MULTIPOLYGON (((-158.721 -6...\n5 ol5 MULTIPOLYGON (((161.333 -59...\n```\n:::\n:::\n\n\n## Plotting Functions {.smaller}\n\n-   Using the three datasets, we we able to create location based spherical maps for any given time. The plots are shown below\n\n::: {.panel-tabset .smaller}\n## Graticules\n\n![](images/graticules-sf-cut.png){fig-align=\"center\" width=\"50%\"}\n\n## MilkyWay\n\n![](images/mw-sf-cut.png){fig-align=\"center\" width=\"50%\"}\n\n## Stars\n\n![](images/stars-sf-cut.png){fig-align=\"center\" width=\"50%\"}\n\n## Constellations\n\n![](images/const-sf-cut.png){fig-align=\"center\" width=\"50%\"}\n:::\n\n# Results\n\n## Knitting them together {.smaller}\n\n::: {.columns .smaller}\n::: {.column width=\"60%\"}\n-   We plotted all the functions together, and customized the background color, the glow intensity of the constellations, and provided a pretty caption at the footer\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| code-fold: true\n#| code-summary: \"Plot Function for Star Map\"\n\nggplot() +\n    # Graticules\n    geom_sf(data = grat_end, color = \"grey60\", linewidth = 0.25, alpha = 0.3) +\n    # A blurry Milky Way\n    with_blur(\n      geom_sf(\n        data = mw_end, aes(fill = fill), alpha = 0.1, color = NA,\n        show.legend = FALSE\n      ),\n      sigma = 8\n    ) +\n    scale_fill_identity() +\n    # Glowing stars\n    geom_glowpoint(\n      data = stars_end, aes(\n        alpha = br, size =\n          br, geometry = geometry\n      ),\n      color = \"white\", show.legend = FALSE, stat = \"sf_coordinates\"\n    ) +\n    scale_size_continuous(range = c(0.05, 0.75)) +\n    scale_alpha_continuous(range = c(0.1, 0.5)) +\n    # Glowing constellations\n    geom_glowpath(\n      data = const_end_lines, aes(X, Y, group = interaction(L1, L2)),\n      color = \"white\", size = 0.5, alpha =0.8, shadowsize = 0.4, shadowalpha = 0.01,\n      shadowcolor = \"white\", linejoin = \"round\", lineend = \"round\"\n    ) +\n    # Border of the sphere\n    geom_sf(data = hemisphere_sf, fill = NA, color = \"white\", linewidth = 1.25) +\n    # Caption\n    labs(caption = caption) +\n    # And end with theming\n    theme_void() +\n    theme(\n      text = element_text(colour = \"white\"),\n      panel.border = element_blank(),\n      plot.background = element_rect(fill = \"#191d29\", color = \"#191d29\"),\n      plot.margin = margin(20, 20, 20, 20),\n      plot.caption = element_text(\n        hjust = 0.5, face = \"bold\",\n        size = rel(1),\n        lineheight = rel(1.2),\n        margin = margin(t = 40, b = 20)\n      )\n    )\n```\n:::\n\n:::\n\n::: {.column width=\"40%\"}\n![](images/seoul_starmap.png){fig-align=\"center\" width=\"80%\"}\n:::\n:::\n\n## Demo\n\nNow, we are going to demonstrate our project in action.\n\n[Shiny App for Celestial Map](https://bag6d9-visalakshi-iyer.shinyapps.io/starmapapp/){target=\"_blank\"}\n\n## Conclusion {.column width=\"50%\"}\n\n-   Constellations aid in locating stars, galaxies, and other celestial bodies, offering reference points for astronomical observation and research.\n-   Observations of constellations contribute to scientific discoveries, aiding in the understanding of star formation, stellar evolution, and the dynamics of galaxies.\n-   Constellations serve as educational tools, engaging learners of all ages in the study of astronomy and offer an accessible entry point for teaching basic astronomical concepts.\n\n## Limitations\n\n-   Some starmap apps can become complex due to the abundance use of features, making the interface crowded, confusing the new users.\n\n-   Sometimes due to incomplete or inaccurate data, might lead to misidentification of celestial objects or missing information about certain stars or constellations. The dataset is currently actively updated, but with the passing of time, the requirement for different processed dataset can arise.\n\n## Thank you for listening! Any questions?\n\n![Credit: BBC](images/gifstars.gif){fig-align=\"center\" width=\"348\"}\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}